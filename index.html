<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Word Guess Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="main.js"></script> -->
</head>
<body>
        <p id="convertToArray"></p>
        <p id="hideArray"></p>
        <p id="guessedArray"></p>

        You chose:<p id='letter'></p>
        Your Guesses:<p id='addGuessLetterInput'></p>
        Guesses Remaining:<p id='subtractGuessRemaining'></p>
    


    <script>
        // var alphabet     = ['A','B','C','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y'];
        var wins            = 0;
        var losses          = 0;
        var guessRemaining  = 9;
        var guessArray      = [];
        var guess           = [];
        var wordList        = ['FUBAR', 'SNAFU', 'TARFU'];
        
        var guessGameAction = {
            generateWord: wordList[Math.floor(Math.random()*wordList.length)],

            convertToArray: function() {
                return Array.from(this.generateWord);
            },
            hideArray: function() {
                var randomWord = this.convertToArray();
                    randomWord = randomWord.map(function() {
                        return " _ ";
                    }); 
                    return randomWord;
            },
            guessInput: function() {
                var keyPressed = document.getElementById('letter');
                keyPressed.textContent = guess.join().toUpperCase();
            },
            addToGuessArray: function() {
                var addGuessLetterInput = document.getElementById('addGuessLetterInput');
                addGuessLetterInput.textContent = guessArray.join().toUpperCase();
            },
            subtractGuessRemaining: function() {
                var displayRemainingGuesses = document.getElementById('subtractGuessRemaining');
                displayRemainingGuesses.textContent = guessRemaining;
            },
            endGame: function() {
                if(guessRemaining < 1) {
                    var endGameMessage = document.getElementById('subtractGuessRemaining');
                    endGameMessage.textContent = 'GAME OVER';
                };
            },
        };

        var handlers = {
            convertToArray: function() {
                document.getElementById("convertToArray").innerHTML = guessGameAction.convertToArray();
            },
            hideArray: function() {
                document.getElementById("hideArray").innerHTML = guessGameAction.hideArray();
            },
            guessInput: function() {
                window.addEventListener('keypress', function(event) {
                    if (event.keyCode) {
                        guess.push(event.key);
                        guessGameAction.guessInput();
                        guess = [];
                        console.log('guess = ', guess);
                    }
                },false);
                view.displayGuessGame();
            },
            addToGuessArray: function() {
                window.addEventListener('keypress', function(event) {
                    if (event.keyCode) {
                        guessArray.push(event.key);
                        guessGameAction.addToGuessArray();
                        console.log('guessArray = ', guessArray);
                    };
                }, false);
                view.displayGuessGame();
            },
            subtractGuessRemaining: function() {
                window.addEventListener('keypress', function(event) {
                    guessRemaining--;
                    guessGameAction.subtractGuessRemaining();
                });
            },
            gameOver: function() {
                window.addEventListener('keypress', function(event) {
                    if (guessRemaining < 1){
                        guessGameAction.endGame();
                    };
                });
                view.displayGuessGame();
            },
        };

        var view = {
            displayGuessGame: function() {
                // call(handlers())
            },
        };

        guessGameAction.endGame();
        handlers.guessInput();
        handlers.addToGuessArray();
        handlers.convertToArray();
        handlers.hideArray();
        handlers.subtractGuessRemaining();
        handlers.gameOver();


    //     // function isLetterMatch(result) {
    //     //     return keyPressed.letterGuessed();
    //     //     console.log(keyPressed.letterGuessed());
    //     // };


    //     // function winGame
    //     // function loseGame
    //     // function resetGame
    //     // function displayLetter();
    //     // function startMenu();
        
        
    </script>
</body>
</html>